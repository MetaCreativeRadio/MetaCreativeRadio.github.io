# 🎵 WAV → MP3 変換ガイド

## 使い方（3ステップ）

### ステップ1: WAVファイルをaudioフォルダに配置
```
audio/
├── メタクリラジオ_第○回_ver1.wav  ← ここに配置
```

### ステップ2: 変換コマンド実行
```bash
npm run convert-to-mp3
```

### ステップ3: 確認プロンプト
```
変換対象:
  - メタクリラジオ_第六回_ver2.wav (688M)

これらのファイルをMP3に変換して、元のWAVファイルを削除しますか? (yes/no):
```

**`yes`と入力** → 変換開始！

---

## 🎯 何が起こるか

1. ✅ **audioフォルダ内の全WAVファイルを検出**
2. ✅ **MP3に変換**（192kbps・高品質）
   - 例: `メタクリラジオ_第六回_ver2.wav` → `メタクリラジオ_第六回_ver2.mp3`
3. ✅ **元のWAVファイルを自動削除**
4. ✅ **容量を大幅削減**（約90%削減）

---

## 📊 容量比較

| フォーマット | 1話あたり | 100話 |
|------------|---------|-------|
| WAV | 約700MB | 約70GB |
| MP3 (192kbps) | 約45MB | 約4.5GB |
| **削減率** | **93%削減** | **93%削減** |

---

## ⚠️ 注意事項

### 変換前に確認すること
- [ ] WAVファイルのバックアップは別途保管済み？
- [ ] 変換後は元のWAVファイルが削除されます
- [ ] 変換は取り消せません

### 安全な運用フロー
1. 音声データ完成 → audioフォルダに配置
2. **アップロード前に必ず確認**
3. `npm run convert-to-mp3` 実行
4. 確認プロンプトで `yes` → 変換開始

---

## 🔧 技術仕様

- **変換ツール**: ffmpeg
- **ビットレート**: 192kbps（高品質）
- **コーデック**: libmp3lame
- **サンプリングレート**: 元の音声と同じ

---

## 💡 よくある質問

### Q: 変換後の音質は？
A: 192kbpsは「高品質」で、Podcast配信には十分です。人間の耳ではWAVとの違いはほぼ分かりません。

### Q: 一部のファイルだけ変換できる？
A: 現在は全WAVファイルが対象です。特定のファイルだけ変換したい場合は、他のWAVを一時的に別フォルダに移動してください。

### Q: 変換に失敗したら？
A: スクリプトが自動で検出し、失敗したファイルはWAVのまま残ります。

### Q: 変換をキャンセルしたい
A: 確認プロンプトで `no` と入力、またはCtrl+Cで中断できます。

---

## 📝 トラブルシューティング

### ffmpegがない場合
```bash
brew install ffmpeg
```

### 実行権限エラー
```bash
chmod +x scripts/convert-to-mp3.sh
```

---

**作成日**: 2025-10-27
**最終更新**: 2025-10-27
